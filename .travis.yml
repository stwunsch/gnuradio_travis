language: cpp
os: linux
sudo: required
dist: trusty

before_script:
    # Install packages with apt-get
    - sudo apt-get -qq update
    - sudo apt-get -y install git-core cmake g++ python-dev swig pkg-config libfftw3-dev libboost1.55-all-dev libcppunit-dev libgsl0-dev libusb-dev libsdl1.2-dev python-wxgtk2.8 doxygen libxi-dev libqt4-opengl-dev libqwt-dev libfontconfig1-dev libxrender-dev python-sip python-sip-dev
    # Because we are running with a virtualenv, install python packages via pip.
    # Otherwise, they won't show up later on.
    - pip install numpy cheetah lxml

script:
    # Why does this not work?
    # Make a stupid clone instead, investigate later
    #- git submodule update --init --recursive
    - git clone https://github.com/gnuradio/volk
    - mkdir build/ && cd build/
    - cmake ..
    - make
    - ctest
    - make install

notifications:
    email: false
